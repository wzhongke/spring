<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Vue Transitions and Animations</title>
	<script type="text/javascript" src="https://unpkg.com/vue"></script>
	<!-- ç¬¬ä¸‰æ–¹åŒ… animate.css -->
	<link href="../../static/css/animate.css" rel="stylesheet" type="text/css">
	<!-- åŠ¨ç”»åº“ -->
	<script type="text/javascript" src="../../static/js/velocity.min.js"></script>
	<style type="text/css">
		.slideInRight {
			transform: translateX(200px);
		}
		.go {
			transition: all 2s ease-out;
		}
		img {
			float: left;
			padding: 5px
		}
		.v-enter {
			opacity: 0
		}
		.v-enter-active {
			transition: opacity 2s
		}
	</style>
</head>
<body>
	<!-- Vueæœ‰è‡ªå·±çš„å¤„ç†åŠ¨ç”»çš„æ ‡ç­¾ï¼š<transition>å’Œ<transition-group -->
	<!--  
		å¦‚æœæ²¡æœ‰nameå±æ€§ï¼Œé‚£ä¹ˆé»˜è®¤å°†ä½¿ç”¨ `v`
		Name | Applied when  | Removed when
		v-enter| Before the element is inserted| After one frame
		v-enter-active| Before the element is inserted| When transition ends
		v-enter-to |After one frame| When transition ends
		v-leave| Transition starts| After one frame
		v-leave-active| Transition starts| When transition ends
		v-leave-to| After one frame| When transition ends
		-->
	<div id="app1">
		<button @click="taxiCalled = true">Call a cab</button>
		<!-- æˆ‘ä»¬ä½¿ç”¨ `enter-active-class` æ¥ä»£æ›¿Vueé»˜è®¤çš„`name` å±æ€§ -->
		<transition enter-active-class="go" enter-class="slideInRight">
		<!-- å›¾ç‰‡é“¾æ¥ ï¼š http://emojipedia.org/ -->
			<p v-if="taxiCalled">ğŸš“</p>
		</transition>
	</div>
	<script type="text/javascript">
		new Vue({
			el: '#app1',
			data: {
				taxiCalled: false
			}
		})
	</script>
	<!-- ä½¿ç”¨ js æ¥åˆ¶ä½œåŠ¨ç”» -->
	<!-- vue transition hook
		Attribute Description
		@beforeenter
		This function is called before the element is inserted.
		@enter This function is called when the element is inserted.
		@afterenter
		This function is called when the element is inserted and the
		animation is finished.
		@entercancelled
		This function is called when the animation is still in progress,
		but the element has to leave. If you use Velocity you can do
		something like Velocity(el, "stop").
		@beforeleave
		This function is called before the leave function is triggered.
		@leave This function is called when the element leaves.
		@afterleave
		This function is called when the element leaves the page.
		@leavecancelled
		This is called in case the element has to be inserted before the
		leave call is finished. It works only with v-show.
		-->
	<div id="app2">
		<button @click="taxiCalled = true">Call a cab</button>
		<button @click="taxiCalled = false">Cancel</button>
		<!-- `:css` å…³é—­ cssåŠ¨ç”»çš„æ‰§è¡Œé€»è¾‘ -->
		<transition @enter="enter" @leave="leave" :css="false">
			<p v-if="taxiCalled">ğŸš“</p>
		</transition>
	</div>
	<script type="text/javascript">
		new Vue({
			el: '#app2',
			data: {
				taxiCalled: false
			},
			methods: {
				// å‚æ•°`el`æ˜¯ <transition>æ ‡ç­¾åŒ…è£¹çš„å…ƒç´ 
				enter (el) {
					Velocity(el, 
						{opcity: [1, 0], translateX: ["0px", "200px"]},
						{duration: 2000, easing: "ease-out"}
					)
				},
				// Vue æ— æ³•åˆ¤æ–­åŠ¨ç”»æ˜¯å¦ç»“æŸï¼Œæ‰€ä»¥å‚æ•°`done`æ˜¯åŠ¨ç”»å®Œæˆåçš„å›è°ƒå‡½æ•°, ä½†æ˜¯æˆ‘çœ‹ä¸ç”¨doneä¹Ÿæ²¡é—®é¢˜
				leave (el, done) {
					Velocity(el,
						{ opacity: [0, 1], 'font-size': ['0.1em', '1em'] },
						{ duration: 200, complete: done}
					)
				}
			}
		})
	</script>

	<div id="app3">
	<!-- appear æŒ‡ä»¤ä¼šä½¿ç»„ä»¶ä½¿ç”¨æŒ‡å®šçš„åŠ¨ç”»æ•ˆæœ -->
	<!--	<transition appear
			@before-appear="customBeforeAppearHook"
			@appear="customAppearHook"
			@after-appear="customAfterAppearHook"
			appear-class="custom-appear-class"
			appear-active-class="custom-appear-active-class" 
			>
			<img src="https://fillmurray.com/50/70" width="50" height="70">
		</transition> -->
		<p>
		The internet was missing the ability to
		provide custom-sized placeholder images of Bill Murray.
		Now it can.
		</p>
	</div>
	<script type="text/javascript">
		new Vue({el: '#app3'})
	</script>

	<!-- ä¸¤ä¸ªå…ƒç´ ä¹‹é—´åˆ‡æ¢ -->
	<style type="text/css">
		.fade-enter-active, .fade-leave-active {
			transition: opacity .5s
		}
		.fade-enter, .fade-leave-active {
			opacity: 0
		}
		#app4 p {
			margin: 0;
			display: block;
			font-size: 3em;
		}
	</style>
	<div id="app4">
		<button @click="kisses++">Kiss!</button>
		<transition name="fade">
		<!-- `key`å±æ€§æŒ‡å®šäº†ä¸¤ä¸ªå…ƒç´ ï¼ŒVueä¼˜åŒ–ç³»ç»Ÿå°†ä»¥å…¶ä»–æ–¹å¼å¯åŠ¨ã€‚å¦åˆ™ï¼ŒVueå°†ä¼šçœ‹åˆ°ï¼Œä¸¤ä¸ªå…ƒç´ çš„å†…å®¹å¯ä»¥äº’æ¢ï¼Œè€Œä¸ä¼šè‡ªåŠ¨äº¤æ¢å…ƒç´ ï¼Œå› ä¸ºå…ƒç´ æ˜¯ç›¸åŒçš„ï¼Œåªæœ‰å†…å®¹è¢«æ”¹å˜ï¼Œæ‰€ä»¥ä¸ä¼šè¿‡æ¸¡ã€‚å¦‚æœä¸¤ä¸ªå…ƒç´ ä¸åŒ på’Œspanï¼Œä¸ç”¨æŒ‡å®š`key`ï¼Œä½†æ˜¯è¿˜æ˜¯æ¨èæŒ‡å®š`key`å±æ€§-->
			<p v-if="kisses < 3" key="frog">frog</p>
			<p v-if="kisses >= 3" key="princess"> princess</p>
		</transition>
	</div>
	<script type="text/javascript">
		new Vue({
			el:'#app4',
			data: {
				kisses: 0
			}
		})
	</script>
	<!-- ä½¿ç”¨è®¡ç®—å±æ€§ï¼Œæ§åˆ¶å…ƒç´ åˆ‡æ¢ -->
	<div id="app5">
		<button @click="kisses++">Kiss!</button>
		<transition name="fade">
			<p :key="transformation">{{emoji}}{{transformation}}</p>
		</transition>
	</div>
	<script type="text/javascript">
		new Vue({
			el: '#app5',
			data: {
				kisses: 0
			}
			computed: {
				transformation () {
					if (this.kisses < 3) {
						return 'frog'
					}
					if (this.kisses >= 3 && this.kisses <= 5) {
						return 'princess'
					}
					if (this.kisses > 5) {
						return 'santa'
					}
				},
				emoji () {
					switch (this.transformation) {
						case 'frog': return ' '
						case 'princess': return ' '
						case 'santa': return ' '
					}
				}
			}
		})
	</script>
</body>
</html>